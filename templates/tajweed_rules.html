<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tajweed Rules - Iqra AI</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/logo1.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/static/images/logo1.png">
    <link rel="icon" type="image/png" sizes="128x128" href="/static/images/logo1.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/logo1.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <style>
        :root {
            --primary-color: #D4AF37;
            --secondary-color: #C5A028;
            --background-color: #F8F9FA;  /* Light gray instead of beige */
            --card-background: #FFFFFF;
            --text-color: #2D2D2D;
            --heading-color: #1F1F1F;
            --secondary-text: #777777;
            --border-color: #E5E7EB;
            
            /* Tajweed Rule Colors - Light Mode */
            --madd-color: #FF6B6B;
            --madd-gradient: #ff8585;
            --ghunnah-color: #D92626;
            --ghunnah-gradient: #ff4d4d;
            --idghaam-color: #2EA62E;
            --idghaam-gradient: #47d147;
            --ikhfa-color: #9932CC;
            --ikhfa-gradient: #b347e6;
            --qalqalah-color: #0086B3;
            --qalqalah-gradient: #00b3f0;
            --ikhfa-meem-color: #E066FF;
            --ikhfa-meem-gradient: #f0a3ff;
            --silent-color: #8A2BE2;
            --silent-gradient: #9f3eff;
            
            /* Shadow opacity for light mode */
            --shadow-opacity: 0.3;
        }

        [data-theme="dark"] {
            --primary-color: #D4AF37;
            --secondary-color: #C5A028;
            --background-color: #1A1A1A;  /* Darker background */
            --card-background: #2D2D2D;   /* Darker card background */
            --text-color: #F3F4F6;
            --heading-color: #FFFFFF;
            --secondary-text: #A0A0A0;
            --border-color: #404040;
            
            /* Tajweed Rule Colors - Dark Mode (More saturated) */
            --madd-color: #FF8080;
            --madd-gradient: #ff9999;
            --ghunnah-color: #FF4040;
            --ghunnah-gradient: #ff6666;
            --idghaam-color: #40BF40;
            --idghaam-gradient: #66CC66;
            --ikhfa-color: #B347E6;
            --ikhfa-gradient: #CC66FF;
            --qalqalah-color: #0099CC;
            --qalqalah-gradient: #00B8F0;
            --ikhfa-meem-color: #E680FF;
            --ikhfa-meem-gradient: #F0B3FF;
            --silent-color: #9933FF;
            --silent-gradient: #B366FF;
            
            /* Shadow opacity for dark mode */
            --shadow-opacity: 0.5;
        }

        /* Custom Scrollbar Styles - Moved to top for higher specificity */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) var(--background-color);
            box-sizing: border-box;
        }

        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--background-color);
            border-radius: 8px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 8px;
            border: 3px solid var(--background-color);
            transition: all 0.3s ease;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }

        /* Dark mode scrollbar adjustments */
        [data-theme="dark"] ::-webkit-scrollbar-track {
            background: var(--background-color);
        }

        [data-theme="dark"] ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: 3px solid var(--background-color);
        }

        [data-theme="dark"] ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Space Grotesk', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        /* Navigation styles */
        .nav-trigger {
            display: none;
        }

        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: var(--card-background);
            z-index: 999;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 1;
            visibility: visible;
            transform: translateY(25px);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-bottom: 2px solid transparent;
            background: 
                linear-gradient(var(--card-background), var(--card-background)) padding-box,
                linear-gradient(135deg, var(--primary-color), var(--secondary-color)) border-box;
        }

        .top-nav.scrolled {
            transform: translateY(0);
        }

        .top-nav.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }

        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0.3rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 2rem;
            height: 3.25rem;
        }

        .nav-logo {
            height: 52px;
            width: auto;
            transition: transform 0.3s ease;
        }

        .nav-logo:hover {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            margin-left: auto;
        }

        .nav-link {
            color: var(--text-color);
            text-decoration: none;
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            position: relative;
        }

        .nav-link:hover {
            color: var(--primary-color);
            background-color: rgba(212, 175, 55, 0.1);
        }

        [data-theme="dark"] .nav-link:hover {
            color: var(--primary-color);
            background-color: rgba(212, 175, 55, 0.1);
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            transform: scaleX(0);
            transform-origin: right;
            transition: transform 0.3s ease;
        }

        .nav-link:hover::after {
            transform: scaleX(1);
            transform-origin: left;
        }

        /* Desktop-only hover navigation */
        @media (min-width: 1024px) {
            .nav-trigger {
                display: block;
            }

            .top-nav {
                background: transparent;
                border-bottom: none;
            }

            .nav-trigger:hover + .top-nav,
            .top-nav:hover {
                transform: translateY(25px);
                visibility: visible;
                opacity: 1;
            }
        }

        /* Mobile navigation styles */
        @media (max-width: 1023px) {
            .nav-content {
                padding: 1.2rem 1.5rem;
            }

            .content-wrapper {
                padding-top: 5rem;
            }
        }

        @media (max-width: 767px) {
            .nav-content {
                padding: 0.3rem 1rem;
                height: 3rem;
            }
            .nav-logo {
                height: 40px;
            }
        }

        @media (max-width: 599px) {
            .nav-content {
                padding: 1rem;
            }
            .nav-logo {
                height: 32px;
            }
        }

        /* Theme toggle switch */
        .switch {
            font-size: 0.85rem;
            position: relative;
            display: inline-block;
            width: 3.8em;
            height: 2em;
            margin-left: 1rem;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            inset: 0;
            background-color: #F5ECD9;
            transition: 0.4s;
            border-radius: 0.5em;
            box-shadow: 0 0.2em rgba(212, 175, 55, 0.2);
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 1.5em;
            width: 1.4em;
            border-radius: 0.3em;
            left: 0.3em;
            bottom: 0.25em;
            background-color: #D4AF37;
            transition: 0.4s;
            box-shadow: 0 0.4em rgba(212, 175, 55, 0.3);
        }

        .slider:hover::before {
            box-shadow: 0 0.2em rgba(212, 175, 55, 0.3);
        }

        input:checked + .slider:before {
            transform: translateX(2em);
            background: #C5A028;
        }

        [data-theme="dark"] .slider {
            background-color: #2C1F14;
            box-shadow: 0 0.2em rgba(212, 175, 55, 0.1);
        }

        [data-theme="dark"] .slider:before {
            box-shadow: 0 0.4em rgba(212, 175, 55, 0.2);
        }

        [data-theme="dark"] .slider:hover::before {
            box-shadow: 0 0.2em rgba(212, 175, 55, 0.2);
        }

        @media (max-width: 768px) {
            .switch {
                font-size: 0.8rem;
            }
        }

        /* Main content styles */
        .content-wrapper {
            padding-top: 0;
            width: 100%;
            min-height: 100vh;
            box-sizing: border-box;
        }

        /* Introduction section */
        .intro {
            text-align: left;
            padding: 6rem 2rem;
            background: linear-gradient(135deg, var(--card-background), var(--background-color));
            min-height: 100vh;
            display: flex;
            align-items: center;
            position: relative;
        }

        .intro-content {
            max-width: 60%;
            position: relative;
            z-index: 2;
        }

        .intro-content h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--heading-color);
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .intro-content .arabic-title {
            font-family: 'Amiri', serif;
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
            line-height: 1.4;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .intro-content p {
            font-size: 1.3rem;
            line-height: 1.8;
            color: var(--secondary-text);
            margin-bottom: 2rem;
            max-width: 90%;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .hadith-quote {
            margin: 2rem 0;
            padding: 2rem;
            border-left: 4px solid var(--primary-color);
            background: linear-gradient(to right, rgba(212, 175, 55, 0.1), transparent);
            border-radius: 8px;
            max-width: 90%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .hadith-text {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--heading-color);
            margin-bottom: 1rem;
            line-height: 1.6;
            text-align: right;
            direction: rtl;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .hadith-translation {
            font-size: 1.1rem;
            color: var(--text-color);
            font-style: italic;
            margin-bottom: 0.5rem;
            line-height: 1.6;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        .hadith-source {
            font-size: 0.9rem;
            color: var(--secondary-text);
            text-align: right;
            font-weight: 500;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* Responsive adjustments for introduction */
        @media (max-width: 768px) {
            .intro-content {
                max-width: 100%;
                text-align: center;
            }

            .intro-content h1 {
                font-size: 2.5rem;
            }

            .intro-content .arabic-title {
                font-size: 2.2rem;
            }

            .intro-content p {
                font-size: 1.1rem;
                max-width: 100%;
            }

            .hadith-quote {
                max-width: 100%;
            }

            .hadith-text {
                font-size: 1.5rem;
            }
        }

        .intro-image {
            position: absolute;
            right: 5%;
            top: 50%;
            width: 30%;
            height: 70%;
            z-index: 1;
            transform: translateY(-50%);
        }

        .intro-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
            opacity: 0.8;
        }

        /* Remove the initial hidden state */
        .intro-content h1,
        .intro-content .arabic-title,
        .intro-content p,
        .hadith-quote,
        .intro-image {
                opacity: 1;
            visibility: visible;
        }

        .rule-section {
            position: sticky;
            top: 20px;
            margin-bottom: 4rem;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            transform: rotate(var(--tilt-angle));
            transition: all 0.3s ease;
            height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        .rule-section:hover {
            transform: rotate(0deg) translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, var(--shadow-opacity));
        }

        #madd-rule {
            --tilt-angle: -2deg;
            background: linear-gradient(135deg, var(--madd-color), var(--madd-gradient));
            box-shadow: 0 4px 15px rgba(255, 107, 107, var(--shadow-opacity));
        }

        #ghunnah-rule {
            --tilt-angle: 1deg;
            background: linear-gradient(135deg, var(--ghunnah-color), var(--ghunnah-gradient));
            box-shadow: 0 4px 15px rgba(217, 38, 38, var(--shadow-opacity));
        }

        #qalqalah-rule {
            --tilt-angle: -1deg;
            background: linear-gradient(135deg, var(--qalqalah-color), var(--qalqalah-gradient));
            box-shadow: 0 4px 15px rgba(0, 134, 179, var(--shadow-opacity));
        }

        #ikhfa-rule {
            --tilt-angle: 2deg;
            background: linear-gradient(135deg, var(--ikhfa-color), var(--ikhfa-gradient));
            box-shadow: 0 4px 15px rgba(153, 50, 204, var(--shadow-opacity));
        }

        #ikhfa-meem-rule {
            --tilt-angle: -1.5deg;
            background: linear-gradient(135deg, var(--ikhfa-meem-color), var(--ikhfa-meem-gradient));
            box-shadow: 0 4px 15px rgba(224, 102, 255, var(--shadow-opacity));
        }

        #idghaam-rule {
            --tilt-angle: 1.5deg;
            background: linear-gradient(135deg, var(--idghaam-color), var(--idghaam-gradient));
            box-shadow: 0 4px 15px rgba(46, 166, 46, var(--shadow-opacity));
        }

        #silent-rule {
            --tilt-angle: -0.5deg;
            background: linear-gradient(135deg, var(--silent-color), var(--silent-gradient));
            box-shadow: 0 4px 15px rgba(138, 43, 226, var(--shadow-opacity));
        }

        .rule-content {
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            background: rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            border-radius: 10px;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        .rule-content h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .rule-content p {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            text-align: center;
        }

        .rule-content .arabic-example {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            direction: rtl;
            margin: 1rem 0;
            text-align: center;
        }

        @media (max-width: 768px) {
            .rule-section {
                height: 450px;
                padding: 1.5rem;
        }
            
            .rule-content h2 {
                font-size: 1.8rem;
        }

            .rule-content p {
                font-size: 1.1rem;
            }
            
            .rule-content .arabic-example {
                font-size: 1.6rem;
            }
        }

        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Responsive design */
        @media (max-width: 1024px) {
            .intro-content {
                max-width: 65%;
            }

            .intro-image {
                width: 30%;
            }
        }

        @media (max-width: 768px) {
            .intro {
                flex-direction: column;
                text-align: center;
                padding: 4rem 1.5rem;
            }

            .intro-content {
                max-width: 100%;
                margin-bottom: 2rem;
            }

            .intro-image {
                position: relative;
                width: 70%;
                height: 250px;
                margin: 2rem auto;
                top: auto;
                right: auto;
                transform: translateX(400px);
                padding: 0;
            }

            .intro.visible .intro-image {
                animation: slideInMobile 1s ease-in-out 0.8s forwards;
            }

            .intro:not(.visible) .intro-image {
                animation: slideOutMobile 1s ease-in-out forwards;
            }

            .rule-content {
                padding-left: 0;
                margin: 0 auto;
                text-align: center;
            }

            .rule-section {
                height: 450px; /* Slightly taller on mobile for better readability */
            }
            
            .rule-content {
                padding: 1.5rem;
            }

            .intro-content h1 {
                font-size: 2.5rem;
            }

            .intro-content .arabic-title {
                font-size: 2.2rem;
            }

            .intro-content p {
                font-size: 1.1rem;
            }

            .rule-content h2 {
                font-size: 2rem;
            }

            .rule-content .arabic-title {
                font-size: 1.8rem;
            }

            .rule-content p {
                font-size: 1.1rem;
            }

            .rule-content .arabic-example {
                font-size: 1.6rem;
            }
        }

        @keyframes slideInMobile {
            0% {
                opacity: 0;
                transform: translateX(400px);
            }
            100% {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutMobile {
            0% {
                opacity: 1;
                transform: translateX(0);
            }
            100% {
                opacity: 0;
                transform: translateX(400px);
            }
        }

        /* Animation classes */
        @keyframes slideInLeft {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px) translateY(-50%);
                opacity: 0;
            }
            to {
                transform: translateX(0) translateY(-50%);
                opacity: 1;
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-15px);
            }
        }

        .intro.visible .intro-content {
            animation: slideInLeft 1s ease-out forwards;
        }

        .intro.visible .intro-image {
            animation: slideInRight 1s ease-out forwards;
        }

        /* Rules container and sections */
        .rules-container {
            width: 100%;
            position: relative;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 4rem;
            align-items: center;
            box-sizing: border-box;
            min-height: 500vh;
        }

        /* Remove all problematic positioning and transitions */
        .rule-section::after {
            display: none;
        }

        /* Add animation classes */
        .fade-in-up {
            animation: fadeInUp 1s ease-out forwards;
        }

        .fade-in-left {
            animation: fadeInLeft 1s ease-out forwards;
        }

        .fade-in-right {
            animation: fadeInRight 1s ease-out forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Practice Section Styles */
        .practice-section {
            padding: 4rem 2rem;
            background: var(--background-color);
            margin-top: 4rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            color: var(--heading-color);
            margin-bottom: 2rem;
        }

        .practice-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        .practice-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 2rem;
            border-radius: 15px;
            color: white;
        }

        .practice-content {
            margin-top: 1rem;
        }

        .quran-text {
            font-family: 'Amiri', serif;
            font-size: 2rem;
            text-align: center;
            margin: 2rem 0;
            direction: rtl;
        }

        .controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .practice-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            background: white;
            color: var(--primary-color);
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .practice-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .progress-tracker {
            background: var(--card-background);
            padding: 2rem;
            border-radius: 15px;
            border: 2px solid var(--border-color);
        }

        .progress-stats {
            display: grid;
            gap: 1rem;
            margin-top: 1rem;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(212, 175, 55, 0.1);
            border-radius: 8px;
        }

        /* Common Mistakes Section */
        .mistakes-section {
            padding: 4rem 2rem;
            background: linear-gradient(135deg, var(--background-color), var(--card-background));
        }

        .mistakes-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .mistake-card {
            background: var(--card-background);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .mistake-card:hover {
            transform: translateY(-5px);
        }

        .mistake-icon {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        /* Resources Section */
        .resources-section {
            padding: 4rem 2rem;
            background: var(--background-color);
        }

        .resources-grid {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .resource-card {
            background: var(--card-background);
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            text-decoration: none;
            color: var(--text-color);
            transition: all 0.3s ease;
                        }

        .resource-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .resource-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        /* Dark mode adjustments */
        [data-theme="dark"] .practice-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        }

        [data-theme="dark"] .mistake-card,
        [data-theme="dark"] .resource-card {
            background: var(--card-background);
        }

        [data-theme="dark"] .stat-item {
            background: rgba(212, 175, 55, 0.05);
        }

        /* Add subtle patterns to backgrounds */
        .intro::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: radial-gradient(circle at 1px 1px, var(--border-color) 1px, transparent 0);
            background-size: 40px 40px;
            opacity: 0.1;
            pointer-events: none;
        }

        .mistakes-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: linear-gradient(45deg, var(--border-color) 25%, transparent 25%, transparent 75%, var(--border-color) 75%, var(--border-color)),
                            linear-gradient(45deg, var(--border-color) 25%, transparent 25%, transparent 75%, var(--border-color) 75%, var(--border-color));
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            opacity: 0.05;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div class="nav-hover-area"></div>
    <nav class="top-nav">
        <div class="nav-content">
            <a href="/" class="nav-logo-link">
                <img src="/static/images/logo1.png" alt="Iqra AI Logo" class="nav-logo">
            </a>
            <div class="nav-links">
                <a href="/" class="nav-link">Home</a>
                <a href="/demo" class="nav-link">Quran</a>
                <a href="/tajweed-rules" class="nav-link">Tajweed</a>
                <a href="/#pricing" class="nav-link">Pricing</a>
            </div>
            <label class="switch" title="Toggle dark mode">
                <input type="checkbox" id="themeToggle">
                <span class="slider"></span>
            </label>
        </div>
    </nav>

    <div class="content-wrapper">
        <div class="intro">
            <div class="intro-content">
                <h1>Tajweed Rules</h1>
                <div class="arabic-title">Ø£ÙØ­Ù’ÙƒÙØ§Ù… Ø§Ù„ØªÙÙ‘Ø¬Ù’ÙˆÙÙŠØ¯</div>
                <p>Tajweed is the set of rules governing the proper pronunciation of the Quran. These rules help ensure that the Quran is recited as closely as possible to how it was revealed to Prophet Muhammad ï·º. The Qur'an flows like water â€” smooth and full of life. Tajweed is the subtle bed beneath, guiding each sound with grace and purpose.</p>
                
                <div class="hadith-quote">
                    <div class="hadith-text">Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ ØªÙØ¹ÙÙ„ÙÙ‘Ù…Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ÙˆÙØ¹ÙÙ„ÙÙ‘Ù…ÙÙ‡Ù</div>
                    <div class="hadith-translation">"The best among you are those who learn the Quran and teach it to others."</div>
                    <div class="hadith-source">Sahih al-Bukhari 5027</div>
                </div>
            </div>
            <div class="intro-image">
                <img src="/static/images/Waterfall.png" alt="Waterfall Background">
            </div>
        </div>

        <div class="rules-container">
            <div id="madd-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Madd (Prolongation)</h2>
                    <p>When certain letters are followed by specific signs, their sound should be extended. This rule applies to the letters Ø§, Ùˆ, and ÙŠ when they have a sukoon or when followed by a hamza.</p>
                    <div class="arabic-example">ÙÙÙŠÙ‡ÙØ§ ØŒ Ù‚ÙØ§Ù„ÙÙˆØ§ ØŒ Ø¢Ù…ÙÙ†ÙÙˆØ§</div>
            </div>
            </div>

            <div id="ghunnah-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Ghunnah (Nasal Sound)</h2>
                    <p>A nasal sound that occurs with the letters Ù† and Ù… when they have a shaddah. The sound should be held for approximately two counts.</p>
                    <div class="arabic-example">Ø«ÙÙ…ÙÙ‘ ØŒ Ø¥ÙÙ†ÙÙ‘ ØŒ Ù…ÙÙ…ÙÙ‘Ø§</div>
            </div>
            </div>

            <div id="qalqalah-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Qalqalah (Echoing Sound)</h2>
                    <p>An echoing sound that occurs with five letters (Ù‚ Ø· Ø¨ Ø¬ Ø¯) when they have a sukoon or at the end of a word. The sound bounces back with a slight echo.</p>
                    <div class="arabic-example">ÙŠÙØ¬Ù’Ø¹ÙÙ„Ù’ ØŒ Ø£ÙØ­ÙØ¯ ØŒ Ø®ÙÙ„ÙÙ‚Ù’</div>
            </div>
            </div>

            <div id="ikhfa-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Ikhfa (Concealment)</h2>
                    <p>When a noon sakinah or tanween is followed by any of the 15 ikhfa letters, the noon sound is hidden and pronounced with a nasal sound.</p>
                    <div class="arabic-example">Ù…ÙÙ†Ù’ Ù‚ÙØ¨Ù’Ù„Ù ØŒ Ø¹ÙØ°ÙØ§Ø¨ÙŒ Ø´ÙØ¯ÙÙŠØ¯ÙŒ</div>
            </div>
            </div>

            <div id="ikhfa-meem-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Ikhfa Meem Saakin</h2>
                    <p>When a meem with sukoon is followed by the letter Ø¨, it is pronounced with a light nasal sound while hiding the meem.</p>
                    <div class="arabic-example">Ù‡ÙÙ… Ø¨ÙÙ…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†</div>
            </div>
            </div>

            <div id="idghaam-rule" class="rule-section">
            <div class="rule-content">
                    <h2>Idghaam (Merging)</h2>
                    <p>When noon sakinah or tanween is followed by specific letters (ÙŠ Ø± Ù… Ù„ Ùˆ Ù†), the noon sound merges into the following letter.</p>
                    <div class="arabic-example">Ù…ÙÙ† Ù†ÙÙ‘Ø°ÙÙŠØ±Ù ØŒ Ø®ÙÙŠÙ’Ø±ÙŒ Ù„ÙÙ‘ÙƒÙÙ…Ù’</div>
            </div>
            </div>

            <div id="silent-rule" class="rule-section">
                <div class="rule-content">
                    <h2>Silent Letters</h2>
                    <p>Certain letters in the Quran are written but not pronounced during recitation. These letters are usually marked with a small circle above them.</p>
                    <div class="arabic-example">Ø§Ù‡Ù’Ø¯ÙÙ†ÙØ§ ØŒ Ù‚ÙØ§Ù„ÙÙˆØ§</div>
                </div>
            </div>
        </div>

        <!-- Interactive Practice Section -->
        <div class="practice-section">
            <h2 class="section-title">Practice Your Tajweed</h2>
            <div class="practice-container">
                <div class="practice-card">
                    <h3>Interactive Exercises</h3>
                    <div class="practice-content">
                        <div class="quran-text" id="practice-text">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        <div class="controls">
                            <button class="practice-btn" onclick="showNextExample()">Next Example</button>
                            <button class="practice-btn" onclick="checkAnswer()">Check Answer</button>
                        </div>
                    </div>
                </div>

                <div class="progress-tracker">
                    <h3>Your Progress</h3>
                    <div class="progress-stats">
                        <div class="stat-item">
                            <span class="stat-label">Completed</span>
                            <span class="stat-value" id="completed-exercises">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Accuracy</span>
                            <span class="stat-value" id="accuracy">0%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Common Mistakes Section -->
        <div class="mistakes-section">
            <h2 class="section-title">Common Mistakes to Avoid</h2>
            <div class="mistakes-grid">
                <div class="mistake-card">
                    <div class="mistake-icon">âš ï¸</div>
                    <h3>Madd Duration</h3>
                    <p>Not extending the madd letters for their proper duration. Remember: 2, 4, or 6 counts based on the type.</p>
                </div>
                <div class="mistake-card">
                    <div class="mistake-icon">âš ï¸</div>
                    <h3>Ghunnah Sound</h3>
                    <p>Skipping the nasal sound in noon and meem mushaddad. Always hold these for 2 counts.</p>
                </div>
                <div class="mistake-card">
                    <div class="mistake-icon">âš ï¸</div>
                    <h3>Qalqalah Clarity</h3>
                    <p>Not pronouncing the qalqalah letters with their characteristic bounce, especially at stops.</p>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="resources-section">
            <h2 class="section-title">Additional Resources</h2>
            <div class="resources-grid">
                <a href="#" class="resource-card">
                    <div class="resource-icon">ğŸ“š</div>
                    <h3>Downloadable Guides</h3>
                    <p>Comprehensive PDF guides for each Tajweed rule</p>
                </a>
                <a href="#" class="resource-card">
                    <div class="resource-icon">ğŸ¥</div>
                    <h3>Video Tutorials</h3>
                    <p>Step-by-step video explanations with examples</p>
                </a>
                <a href="#" class="resource-card">
                    <div class="resource-icon">ğŸ¯</div>
                    <h3>Practice Exercises</h3>
                    <p>Additional exercises for each rule</p>
                </a>
            </div>
        </div>
    </div>

    <script>
        // Wait for both DOM and GSAP to be ready
        window.addEventListener('load', () => {
            console.log('Window loaded, checking GSAP...');
            
            if (typeof gsap === 'undefined') {
                console.error('GSAP is not loaded!');
                return;
            }
            
            console.log('GSAP is loaded, initializing animations...');
            
            const intro = document.querySelector('.intro');
            
            // Initialize GSAP ScrollTrigger
            gsap.registerPlugin(ScrollTrigger);

            // Create a timeline for the introduction
            const introTimeline = gsap.timeline({
                defaults: {
                    duration: 1,
                    ease: "power3.out"
                }
            });

            console.log('Starting intro animations...');

            // Add animations to the timeline with explicit fromTo
            introTimeline
                .fromTo('.intro-content h1', 
                    { y: 50, opacity: 0 },
                    { y: 0, opacity: 1 }
                )
                .fromTo('.intro-content .arabic-title',
                    { y: 30, opacity: 0 },
                    { y: 0, opacity: 1 },
                    "-=0.7"
                )
                .fromTo('.intro-content p',
                    { y: 30, opacity: 0 },
                    { y: 0, opacity: 1 },
                    "-=0.7"
                )
                .fromTo('.hadith-quote',
                    { x: -50, opacity: 0 },
                    { x: 0, opacity: 1 },
                    "-=0.7"
                )
                .fromTo('.intro-image',
                    { x: 100, opacity: 0 },
                    { x: 0, opacity: 1 },
                    "-=0.8"
                );

            console.log('Intro animations added to timeline');
        });

        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('themeToggle');
            const body = document.body;
            
            // Set initial state based on saved theme
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                body.setAttribute('data-theme', 'dark');
                themeToggle.checked = true;
            }
            
            themeToggle.addEventListener('change', () => {
                if (themeToggle.checked) {
                    body.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                } else {
                    body.removeAttribute('data-theme');
                    localStorage.setItem('theme', 'light');
                }
            });
        });

        // Add scroll behavior for navbar
        document.addEventListener('DOMContentLoaded', () => {
            const navbar = document.querySelector('.top-nav');
            let lastScrollTop = 0;
            
            // Handle pricing link clicks
            document.querySelectorAll('a[href="#pricing"], a[href="/#pricing"]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    window.location.href = '/#pricing';
                });
            });
            
            window.addEventListener('scroll', () => {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                
                // At the top of the page
                if (scrollTop < 50) {
                    navbar.classList.remove('scrolled', 'hidden');
                    return;
                }
                
                // Scrolling down
                if (scrollTop > lastScrollTop) {
                    navbar.classList.add('hidden');
                    navbar.classList.remove('scrolled');
                }
                // Scrolling up
                else {
                    navbar.classList.remove('hidden');
                    navbar.classList.add('scrolled');
                }
                
                lastScrollTop = scrollTop;
            });
        });

        // Sample practice examples
        const practiceExamples = [
            {
                text: "Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ù…ÙØ¹Ù Ø§Ù„ØµÙÙ‘Ø§Ø¨ÙØ±ÙÙŠÙ†Ù",
                rule: "ghunnah",
                explanation: "Contains ghunnah in Ø¥ÙÙ†ÙÙ‘"
            },
            {
                text: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ",
                rule: "qalqalah",
                explanation: "Contains qalqalah in Ù‚ÙÙ„Ù’"
            },
            {
                text: "Ù…ÙÙ†Ù’ Ù‚ÙØ¨Ù’Ù„Ù",
                rule: "ikhfa",
                explanation: "Contains ikhfa in Ù…ÙÙ†Ù’"
            },
            {
                text: "Ù‡ÙÙ… Ø¨ÙÙ…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†",
                rule: "ikhfa-meem",
                explanation: "Contains ikhfa meem in Ù‡ÙÙ…"
            }
        ];

        let currentExampleIndex = 0;
        let completedExercises = 0;
        let correctAnswers = 0;

        function showNextExample() {
            const example = practiceExamples[currentExampleIndex];
            document.getElementById('practice-text').textContent = example.text;
            currentExampleIndex = (currentExampleIndex + 1) % practiceExamples.length;
        }

        function checkAnswer() {
            completedExercises++;
            // Implement answer checking logic
            updateStats();
        }

        function updateStats() {
            document.getElementById('completed-exercises').textContent = completedExercises;
            const accuracy = Math.round((correctAnswers / completedExercises) * 100);
            document.getElementById('accuracy').textContent = `${accuracy}%`;
        }

        // Initialize first example
        showNextExample();
    </script>
</body>
</html> 